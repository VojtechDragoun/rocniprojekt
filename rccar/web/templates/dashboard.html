{% extends "base.html" %}

{% block title %}RCcar – Dashboard{% endblock %}

{% block content %}
  <div class="card">
    <h1>Dashboard – historie jízd</h1>
    <p>Zde se zobrazují záznamy o jízdách uložené v databázi.</p>

    {% if rides and rides|length > 0 %}
      <table>
        <thead>
          <tr>
            <th>Uživatel</th>
            <th>Délka jízdy (s)</th>
            <th>Datum</th>
          </tr>
        </thead>
        <tbody>
          {% for r in rides %}
            <tr>
              <td>{{ r.username }}</td>
              <td>{{ r.duration_sec }}</td>
              <td>{{ r.created_at }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p><em>Zatím nejsou v databázi žádné jízdy.</em></p>
      <p>
        Pro test můžeš použít: <a href="{{ url_for('add_demo_ride') }}">Přidat demo jízdu</a>
      </p>
    {% endif %}
  </div>
{% endblock %}
